service: image-resize
custom:
  STAGE: ${self:provider.stage}
provider:
  name: aws
  runtime: nodejs12.x
  stage: ${opt:stage, 'dev'}
  region: us-east-1
  endPointType: Edge
  timeout: 30
  lambdaHashingVersion: 20201221
  deploymentBucket:
    blockPublicAccess: true # Prevents public access via ACLs or bucket policies. Default is false
    name: test.bucket.sample # Deployment bucket name. Default is generated by the framework
    maxPreviousDeploymentArtifacts: 5 # On every deployment the framework prunes the bucket to remove artifacts older than this limit. The default is 5L
functions:
  imageResize:
    role: arn:aws:iam::12345678:role/EdgeLambdaRole
    handler: dist/handler.handler
    package:
      include:
        - node_modules/**
        - dist/handler.js